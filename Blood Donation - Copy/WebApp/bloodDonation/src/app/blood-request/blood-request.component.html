<!-- <app-navtabs></app-navtabs> -->
<mat-drawer-container
  class="example-container"
  hasBackdrop="True"
  autosize
  style="height: 100vh"
>
  <mat-toolbar style="border-bottom: 1px solid black">
    <button
      mat-icon-button
      class="example-icon"
      (click)="drawer.toggle()"
      aria-label="Example icon-button with menu icon"
    >
      <mat-icon>menu</mat-icon>
    </button>
  </mat-toolbar>
  <mat-drawer style="height: 100%" #drawer class="example-sidenav" mode="over">
    <h2
      style="
        border-bottom: 2px solid red;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      "
    ></h2>
    <div>
      <div style="margin-top: 20px">
        <button mat-raised-button color="primary" [routerLink]="'/home'">
          <mat-icon>home</mat-icon>Home
        </button>
      </div>
      <!-- <div style="margin-top: 20px">
        <button mat-raised-button color="primary" [routerLink]="'/login'">
          <mat-icon>login</mat-icon>Login
        </button>
      </div> -->

      <div style="margin-top: 20px">
        <button mat-raised-button color="primary" (click)="onLogout()">
          <mat-icon>logout</mat-icon>logout
        </button>
      </div>
    </div>
  </mat-drawer>
  <!-- <div class="container">
    <div class="table-responsive">
      <div class="table-wrapper">
        <div class="table-title">
          <div class="row">
            <div class="col-xs-6">
              <h2>Request <b>Blood</b></h2>
            </div>
          </div>
        </div>
        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="dataSource">
          
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Name</th>
              <td mat-cell *matCellDef="let element">
                {{ element.first_name }} {{ element.last_name }}
              </td>
            </ng-container>

            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef>Email Id</th>
              <td mat-cell *matCellDef="let element">{{ element.email }}</td>
            </ng-container>

            <ng-container matColumnDef="address">
              <th mat-header-cell *matHeaderCellDef>Address</th>
              <td mat-cell *matCellDef="let element">{{ element.address }}</td>
            </ng-container>

            <ng-container matColumnDef="blood_group">
              <th mat-header-cell *matHeaderCellDef>Blood Group</th>
              <td mat-cell *matCellDef="let element">
                {{ element.blood_group }}
              </td>
            </ng-container>

            <ng-container matColumnDef="blood_request">
              <th mat-header-cell *matHeaderCellDef>Blood Request</th>
              <td mat-cell *matCellDef="let element">
                <button
                  mat-raised-button
                  color="primary"
                  (click)="onBloodRequest(element)"
                >
                  <mat-icon>local_hospital</mat-icon> Request Blood
                </button>
          
              </td>
            </ng-container>

            <ng-container matColumnDef="blood_request_status">
              <th mat-header-cell *matHeaderCellDef>Blood Request Status</th>
              <td mat-cell *matCellDef="let element">
                <div
                  class="accept-box bg-success"
                  style="
                    width: 100px;
                    height: 50px;
                    color: white;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border-radius: 5px;
                    font-family: Arial, sans-serif;
                    font-size: 18px;
                  "
                >
                  {{ element.status }}
                </div>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>

          <mat-paginator
            [pageSizeOptions]="[5, 10, 20]"
            showFirstLastButtons
            aria-label="Select page of periodic elements"
          >
          </mat-paginator>
        </div>
      </div>
    </div>
  </div> -->
  <div class="container">
    <div class="table-responsive">
      <div class="table-wrapper">
        <div class="table-title">
          <div class="row">
            <div class="col-xs-6">
              <h2>Request <b>Blood</b></h2>
            </div>
          </div>
        </div>
        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="dataSource">
            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Name</th>
              <td mat-cell *matCellDef="let element">
                {{ element.first_name }} {{ element.last_name }}
              </td>
            </ng-container>

            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef>Email Id</th>
              <td mat-cell *matCellDef="let element">{{ element.email }}</td>
            </ng-container>

            <ng-container matColumnDef="address">
              <th mat-header-cell *matHeaderCellDef>Address</th>
              <td mat-cell *matCellDef="let element">{{ element.address }}</td>
            </ng-container>

            <ng-container matColumnDef="blood_group">
              <th mat-header-cell *matHeaderCellDef>Blood Group</th>
              <td mat-cell *matCellDef="let element">
                {{ element.blood_group }}
              </td>
            </ng-container>
            <!-- 
            <ng-container matColumnDef="blood_request">
              <th mat-header-cell *matHeaderCellDef>Blood Request</th>
              <td mat-cell *matCellDef="let element">
                <button
                  mat-raised-button
                  color="primary"
                  (click)="onBloodRequest(element)"
                >
                  <mat-icon>local_hospital</mat-icon> Request Blood
                </button>
              </td>
            </ng-container> -->
            <ng-container matColumnDef="blood_request">
              <th mat-header-cell *matHeaderCellDef>Blood Request</th>
              <td mat-cell *matCellDef="let element">
                <button
                  mat-raised-button
                  color="primary"
                  (click)="onBloodRequest(element)"
                  [disabled]="element.isRequested"
                >
                  <mat-icon>local_hospital</mat-icon>
                  {{ element.isRequested ? "Requested" : "Request Blood" }}
                </button>
              </td>
            </ng-container>

            <ng-container matColumnDef="blood_request_status">
              <th mat-header-cell *matHeaderCellDef>Blood Request Status</th>
              <td mat-cell *matCellDef="let element">
                <div
                  class="accept-box bg-success"
                  style="
                    width: 100px;
                    height: 50px;
                    color: white;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border-radius: 5px;
                    font-family: Arial, sans-serif;
                    font-size: 18px;
                  "
                >
                  {{ element.status }}
                </div>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>

          <mat-paginator
            [pageSizeOptions]="[5, 10, 20]"
            showFirstLastButtons
          ></mat-paginator>
        </div>
      </div>
    </div>
  </div>
</mat-drawer-container>
